#!/bin/bash
# –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è Toyota Sienna

set -e  # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏ –æ—à–∏–±–∫–µ

cd "$(dirname "$0")"

echo "============================================================"
echo "üöó –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ Toyota Sienna 2013"
echo "============================================================"
echo ""

# –ü—Ä–æ–≤–µ—Ä—è–µ–º/—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
echo "üì¶ –ü—Ä–æ–≤–µ—Ä—è—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏..."
if ! python3 -c "import requests" 2>/dev/null; then
    echo "üì¶ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é requests..."
    pip3 install --break-system-packages requests 2>&1 | grep -v "Requirement already satisfied" || true
fi

if ! python3 -c "import bs4" 2>/dev/null; then
    echo "üì¶ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é beautifulsoup4..."
    pip3 install --break-system-packages beautifulsoup4 2>&1 | grep -v "Requirement already satisfied" || true
fi

echo "‚úì –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≥–æ—Ç–æ–≤—ã"
echo ""

# –ó–∞–ø—É—Å–∫–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç
echo "üöÄ –ó–∞–ø—É—Å–∫–∞—é –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∞—à–∏–Ω—ã..."
python3 add_car_rentride.py

if [ $? -eq 0 ]; then
    echo ""
    echo "============================================================"
    echo "‚úÖ –£–°–ü–ï–®–ù–û! –¢–µ–ø–µ—Ä—å –¥–µ–ª–∞—é git commit..."
    echo "============================================================"
    
    git add .
    git commit -m "–î–æ–±–∞–≤–ª–µ–Ω–∞ Toyota Sienna 2013 - –ø–æ–ª–Ω—ã–π –ø—Ä–∏–≤–æ–¥, 7 –º–µ—Å—Ç, —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–ø–∞—Ä—Å–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ —Å RentRide
- –°–∫–∞—á–∞–Ω–æ 10 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
- –°–æ–∑–¥–∞–Ω—ã thumbnails
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–ø–∏—Å—å –≤ cars.json"
    
    echo ""
    echo "============================================================"
    echo "üéâ –í–°–Å –ì–û–¢–û–í–û!"
    echo "============================================================"
    echo ""
    echo "‚úì Toyota Sienna 2013 –¥–æ–±–∞–≤–ª–µ–Ω–∞"
    echo "‚úì –ö–æ–º–º–∏—Ç —Å–æ–∑–¥–∞–Ω"
    echo ""
    echo "–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å push –∏–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É"
    echo ""
else
    echo ""
    echo "‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –º–∞—à–∏–Ω—ã"
    exit 1
fi

